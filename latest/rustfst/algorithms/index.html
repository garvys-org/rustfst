
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/Garvys/rustfst/latest/rustfst/algorithms/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.2.14">
    
    
      
        <title>algorithms - rustfst-python</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3de6f41f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rustfst.algorithms" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="rustfst-python" class="md-header__button md-logo" aria-label="rustfst-python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            rustfst-python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              algorithms
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Garvys/rustfst" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    rustfst
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="rustfst-python" class="md-nav__button md-logo" aria-label="rustfst-python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    rustfst-python
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Garvys/rustfst" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    rustfst
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Code Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          rustfst
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="rustfst" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          rustfst
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../weight/" class="md-nav__link">
        weight
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../string_path/" class="md-nav__link">
        string_path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../drawing_config/" class="md-nav__link">
        drawing_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trs/" class="md-nav__link">
        trs
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_5" type="checkbox" id="__nav_2_1_5" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">algorithms</a>
          
            <label for="__nav_2_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="algorithms" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_5">
          <span class="md-nav__icon md-icon"></span>
          algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="shortest_path/" class="md-nav__link">
        shortest_path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="concat/" class="md-nav__link">
        concat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="optimize/" class="md-nav__link">
        optimize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="determinize/" class="md-nav__link">
        determinize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="tr_unique/" class="md-nav__link">
        tr_unique
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="isomorphic/" class="md-nav__link">
        isomorphic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="top_sort/" class="md-nav__link">
        top_sort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="compose/" class="md-nav__link">
        compose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="rm_epsilon/" class="md-nav__link">
        rm_epsilon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reverse/" class="md-nav__link">
        reverse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="project/" class="md-nav__link">
        project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="randgen/" class="md-nav__link">
        randgen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="union/" class="md-nav__link">
        union
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="replace/" class="md-nav__link">
        replace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="tr_sort/" class="md-nav__link">
        tr_sort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="connect/" class="md-nav__link">
        connect
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../symbol_table/" class="md-nav__link">
        symbol_table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../string_paths_iterator/" class="md-nav__link">
        string_paths_iterator
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_8" type="checkbox" id="__nav_2_1_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../fst/">fst</a>
          
            <label for="__nav_2_1_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="fst" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_8">
          <span class="md-nav__icon md-icon"></span>
          fst
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fst/vector_fst/" class="md-nav__link">
        vector_fst
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fst/const_fst/" class="md-nav__link">
        const_fst
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tr/" class="md-nav__link">
        tr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../iterators/" class="md-nav__link">
        iterators
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rustfst.algorithms" class="md-nav__link">
    rustfst.algorithms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rustfst.algorithms-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rustfst.algorithms-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.acceptor" class="md-nav__link">
    acceptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.transducer" class="md-nav__link">
    transducer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.epsilon_machine" class="md-nav__link">
    epsilon_machine()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rustfst.algorithms-modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize" class="md-nav__link">
    determinize
  </a>
  
    <nav class="md-nav" aria-label="determinize">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize.DeterminizeType" class="md-nav__link">
    DeterminizeType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize.DeterminizeConfig" class="md-nav__link">
    DeterminizeConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize.determinize" class="md-nav__link">
    determinize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize.determinize_with_config" class="md-nav__link">
    determinize_with_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.shortest_path" class="md-nav__link">
    shortest_path
  </a>
  
    <nav class="md-nav" aria-label="shortest_path">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.shortest_path-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.shortest_path-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.shortest_path.shortestpath" class="md-nav__link">
    shortestpath()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.shortest_path.shortestpath_with_config" class="md-nav__link">
    shortestpath_with_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.isomorphic" class="md-nav__link">
    isomorphic
  </a>
  
    <nav class="md-nav" aria-label="isomorphic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.isomorphic-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.isomorphic-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.isomorphic.isomorphic" class="md-nav__link">
    isomorphic()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.rm_epsilon" class="md-nav__link">
    rm_epsilon
  </a>
  
    <nav class="md-nav" aria-label="rm_epsilon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.rm_epsilon-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.rm_epsilon-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.rm_epsilon.rm_epsilon" class="md-nav__link">
    rm_epsilon()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.top_sort" class="md-nav__link">
    top_sort
  </a>
  
    <nav class="md-nav" aria-label="top_sort">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.top_sort-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.top_sort-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.top_sort.top_sort" class="md-nav__link">
    top_sort()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.optimize" class="md-nav__link">
    optimize
  </a>
  
    <nav class="md-nav" aria-label="optimize">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.optimize-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.optimize-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.optimize.optimize" class="md-nav__link">
    optimize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.optimize.optimize_in_log" class="md-nav__link">
    optimize_in_log()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_unique" class="md-nav__link">
    tr_unique
  </a>
  
    <nav class="md-nav" aria-label="tr_unique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_unique-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_unique-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_unique.tr_unique" class="md-nav__link">
    tr_unique()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.replace" class="md-nav__link">
    replace
  </a>
  
    <nav class="md-nav" aria-label="replace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.replace-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.replace-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.replace.replace" class="md-nav__link">
    replace()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav" aria-label="union">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.union-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.union-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.union.union" class="md-nav__link">
    union()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.union.union_list" class="md-nav__link">
    union_list()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_sort" class="md-nav__link">
    tr_sort
  </a>
  
    <nav class="md-nav" aria-label="tr_sort">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_sort-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_sort-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_sort.tr_sort" class="md-nav__link">
    tr_sort()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.reverse" class="md-nav__link">
    reverse
  </a>
  
    <nav class="md-nav" aria-label="reverse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.reverse-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.reverse-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.reverse.reverse" class="md-nav__link">
    reverse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.connect" class="md-nav__link">
    connect
  </a>
  
    <nav class="md-nav" aria-label="connect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.connect-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.connect-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.connect.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.compose" class="md-nav__link">
    compose
  </a>
  
    <nav class="md-nav" aria-label="compose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.compose-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.compose-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.compose.compose" class="md-nav__link">
    compose()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.compose.compose_with_config" class="md-nav__link">
    compose_with_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.concat" class="md-nav__link">
    concat
  </a>
  
    <nav class="md-nav" aria-label="concat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.concat-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.concat-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.concat.concat" class="md-nav__link">
    concat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.concat.concat_list" class="md-nav__link">
    concat_list()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.project" class="md-nav__link">
    project
  </a>
  
    <nav class="md-nav" aria-label="project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.project-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.project.ProjectType" class="md-nav__link">
    ProjectType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.project-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.project.project" class="md-nav__link">
    project()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.randgen" class="md-nav__link">
    randgen
  </a>
  
    <nav class="md-nav" aria-label="randgen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.randgen-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.randgen-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.randgen.randgen" class="md-nav__link">
    randgen()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/Garvys/rustfst/edit/master/docs/rustfst/algorithms/index.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



  <h1>algorithms</h1>

<div class="doc doc-object doc-module">


<a id="rustfst.algorithms"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">






<h3 id="rustfst.algorithms-classes">Classes</h3>
<h3 id="rustfst.algorithms-functions">Functions</h3>

<div class="doc doc-object doc-function">



<h4 id="rustfst.algorithms.acceptor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">acceptor</span><span class="p">(</span><span class="n">astring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Creates an acceptor from a string.
This function creates a FST which accepts its input with a fixed weight
(defaulting to semiring One).</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>astring</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The input string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>A Weight or weight string indicating the desired path weight. If
omitted or null, the path weight is set to semiring One.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>symbol_table</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="../symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable to be used to encode the string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST acceptor.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/__init__.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">acceptor</span><span class="p">(</span>
    <span class="n">astring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an acceptor from a string.</span>
<span class="sd">    This function creates a FST which accepts its input with a fixed weight</span>
<span class="sd">    (defaulting to semiring One).</span>
<span class="sd">    Args:</span>
<span class="sd">      astring: The input string.</span>
<span class="sd">      weight: A Weight or weight string indicating the desired path weight. If</span>
<span class="sd">        omitted or null, the path weight is set to semiring One.</span>
<span class="sd">      symbol_table: SymbolTable to be used to encode the string.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST acceptor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

    <span class="n">acceptor_fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">utils_string_to_acceptor</span><span class="p">(</span>
        <span class="n">astring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">symbol_table</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">acceptor_fst_ptr</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating acceptor FST&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">acceptor_fst_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="rustfst.algorithms.transducer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transducer</span><span class="p">(</span><span class="n">istring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ostring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">osymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Creates a transducer from a pair of strings or acceptor FSTs.
This function creates a FST which transduces from the first string to
the second with a fixed weight (defaulting to semiring One).</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>istring</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The input string</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ostring</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The output string</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>A Weight as float.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>isymt</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="../symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable to be used to encode the string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>osymt</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="../symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable to be used to encode the string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST transducer.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/__init__.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">transducer</span><span class="p">(</span>
    <span class="n">istring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">ostring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">isymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
    <span class="n">osymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
    <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a transducer from a pair of strings or acceptor FSTs.</span>
<span class="sd">    This function creates a FST which transduces from the first string to</span>
<span class="sd">    the second with a fixed weight (defaulting to semiring One).</span>
<span class="sd">    Args:</span>
<span class="sd">      istring: The input string</span>
<span class="sd">      ostring: The output string</span>
<span class="sd">      weight: A Weight as float.</span>
<span class="sd">      isymt: SymbolTable to be used to encode the string.</span>
<span class="sd">      osymt: SymbolTable to be used to encode the string.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST transducer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

    <span class="n">transducer_fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">utils_string_to_transducer</span><span class="p">(</span>
        <span class="n">istring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">ostring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">isymt</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">osymt</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">transducer_fst_ptr</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating tranducer FST&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">transducer_fst_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="rustfst.algorithms.epsilon_machine" class="doc doc-heading">
<code class="highlight language-python"><span class="n">epsilon_machine</span><span class="p">(</span><span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Constructs a single-state, no-arc FST accepting epsilon.
This function creates an unweighted FST with a single state which is both
initial and final.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>A Weight. Default semiring One.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/__init__.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">epsilon_machine</span><span class="p">(</span><span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs a single-state, no-arc FST accepting epsilon.</span>
<span class="sd">    This function creates an unweighted FST with a single state which is both</span>
<span class="sd">    initial and final.</span>
<span class="sd">    Args:</span>
<span class="sd">      weight: A Weight. Default semiring One.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>
    <span class="n">fst</span> <span class="o">=</span> <span class="n">VectorFst</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">fst</span><span class="o">.</span><span class="n">add_state</span><span class="p">()</span>
    <span class="n">fst</span><span class="o">.</span><span class="n">set_start</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">fst</span><span class="o">.</span><span class="n">set_final</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>
<h3 id="rustfst.algorithms-modules">Modules</h3>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.determinize" class="doc doc-heading">
          <code>determinize</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.determinize-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="rustfst.algorithms.determinize.DeterminizeType" class="doc doc-heading">
        <code>DeterminizeType</code>


</h6>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>Enumeration defining the type of the determinization to perform.</p>


        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeterminizeType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enumeration defining the type of the determinization to perform.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">DETERMINIZE_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">0</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input transducer is known to be functional (or error).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">DETERMINIZE_NON_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">1</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input transducer is NOT known to be functional.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">DETERMINIZE_DISAMBIGUATE</span> <span class="o">=</span> <span class="mi">2</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input transducer is not known to be functional but only keep the min of</span>
<span class="sd">    of ambiguous outputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">





<h7 id="rustfst.algorithms.determinize.DeterminizeType-attributes">Attributes</h7>

<div class="doc doc-object doc-attribute">



<h8 id="rustfst.algorithms.determinize.DeterminizeType.DETERMINIZE_FUNCTIONAL" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DETERMINIZE_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">0</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h8>


  <div class="doc doc-contents ">
  
      <p>Input transducer is known to be functional (or error).</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h8 id="rustfst.algorithms.determinize.DeterminizeType.DETERMINIZE_NON_FUNCTIONAL" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DETERMINIZE_NON_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">1</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h8>


  <div class="doc doc-contents ">
  
      <p>Input transducer is NOT known to be functional.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h8 id="rustfst.algorithms.determinize.DeterminizeType.DETERMINIZE_DISAMBIGUATE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DETERMINIZE_DISAMBIGUATE</span> <span class="o">=</span> <span class="mi">2</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h8>


  <div class="doc doc-contents ">
  
      <p>Input transducer is not known to be functional but only keep the min of
of ambiguous outputs.</p>
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="rustfst.algorithms.determinize.DeterminizeConfig" class="doc doc-heading">
        <code>DeterminizeConfig</code>


</h6>


  <div class="doc doc-contents ">

  
      <p>Struct containing the parameters controlling the determinization algorithm.</p>


        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeterminizeConfig</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Struct containing the parameters controlling the determinization algorithm.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">det_type</span><span class="p">:</span> <span class="n">DeterminizeType</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the configuration object.</span>
<span class="sd">        Args:</span>
<span class="sd">            det_type: Type of determinization to perform.</span>
<span class="sd">            delta:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">delta</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">KDELTA</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize_config_new</span><span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">det_type</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">config</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating DeterminizeConfig&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h7 id="rustfst.algorithms.determinize.DeterminizeConfig-functions">Functions</h7>

<div class="doc doc-object doc-function">



<h8 id="rustfst.algorithms.determinize.DeterminizeConfig.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">det_type</span><span class="p">:</span> <span class="n">DeterminizeType</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

</h8>


  <div class="doc doc-contents ">
  
      <p>Creates the configuration object.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>det_type</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.algorithms.determinize.DeterminizeType" href="determinize/#rustfst.algorithms.determinize.DeterminizeType">DeterminizeType</a></code>
          </td>
          <td><p>Type of determinization to perform.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>delta</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">det_type</span><span class="p">:</span> <span class="n">DeterminizeType</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates the configuration object.</span>
<span class="sd">    Args:</span>
<span class="sd">        det_type: Type of determinization to perform.</span>
<span class="sd">        delta:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">delta</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">KDELTA</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize_config_new</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">det_type</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">config</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating DeterminizeConfig&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>
<h5 id="rustfst.algorithms.determinize-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.determinize.determinize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">determinize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Make an Fst deterministic</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The Fst to make deterministic.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">determinize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make an Fst deterministic</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: The Fst to make deterministic.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">det_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">det_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during determinization&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">det_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.determinize.determinize_with_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">determinize_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DeterminizeConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Make an Fst deterministic</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The Fst to make deterministic.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.algorithms.determinize.DeterminizeConfig" href="determinize/#rustfst.algorithms.determinize.DeterminizeConfig">DeterminizeConfig</a></code>
          </td>
          <td><p>Configuration of the determinization algorithm to use.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">determinize_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DeterminizeConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make an Fst deterministic</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: The Fst to make deterministic.</span>
<span class="sd">        config: Configuration of the determinization algorithm to use.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">det_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize_with_config</span><span class="p">(</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">det_fst</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during determinization&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">det_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.shortest_path" class="doc doc-heading">
          <code>shortest_path</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.shortest_path-classes">Classes</h5>
<h5 id="rustfst.algorithms.shortest_path-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.shortest_path.shortestpath" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shortestpath</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>shortestpath(fst)
construct a FST containing the shortest path of the input FST
:param fst: Fst
:return: Fst</p>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/shortest_path.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">shortestpath</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    shortestpath(fst)</span>
<span class="sd">    construct a FST containing the shortest path of the input FST</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">shortest_path</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_shortest_path</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">shortest_path</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error computing shortest path&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">shortest_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.shortest_path.shortestpath_with_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shortestpath_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ShortestPathConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>shortestpath(fst,config)
construct a FST containing the n-shortest path(s) in the input FST
:param fst: Fst
:param config: ShortestPathConfig
:return: Fst</p>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/shortest_path.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">shortestpath_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ShortestPathConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    shortestpath(fst,config)</span>
<span class="sd">    construct a FST containing the n-shortest path(s) in the input FST</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :param config: ShortestPathConfig</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">shortest_path</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_shortest_path_with_config</span><span class="p">(</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">shortest_path</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error computing shortest path&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">shortest_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.isomorphic" class="doc doc-heading">
          <code>isomorphic</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.isomorphic-classes">Classes</h5>
<h5 id="rustfst.algorithms.isomorphic-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.isomorphic.isomorphic" class="doc doc-heading">
<code class="highlight language-python"><span class="n">isomorphic</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Check if two Fsts are isomorphic.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>First Fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Second Fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether both Fsts are equal.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/isomorphic.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">isomorphic</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if two Fsts are isomorphic.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: First Fst.</span>
<span class="sd">        other_fst: Second Fst.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Whether both Fsts are equal.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">is_isomorphic</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_isomorphic</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_isomorphic</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking isomorphic FSTs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_isomorphic</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.rm_epsilon" class="doc doc-heading">
          <code>rm_epsilon</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.rm_epsilon-classes">Classes</h5>
<h5 id="rustfst.algorithms.rm_epsilon-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.rm_epsilon.rm_epsilon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rm_epsilon</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>rm_epsilon(fst)
rm_epsilon an fst
:param fst: Fst
:return: Fst</p>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/rm_epsilon.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rm_epsilon</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    rm_epsilon(fst)</span>
<span class="sd">    rm_epsilon an fst</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">rm_epsilon_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_rm_epsilon</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">rm_epsilon_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during rm_epsilon&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">rm_epsilon_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.top_sort" class="doc doc-heading">
          <code>top_sort</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.top_sort-classes">Classes</h5>
<h5 id="rustfst.algorithms.top_sort-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.top_sort.top_sort" class="doc doc-heading">
<code class="highlight language-python"><span class="n">top_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>This operation topologically sorts its input. When sorted, all transitions are from lower to higher state IDs.</p>
<p>Examples :</p>
<ul>
<li>Input</li>
</ul>
<p><img alt="topsort_in" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true" /></p>
<ul>
<li>Output</li>
</ul>
<p><img alt="topsort_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true" /></p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to top_sort.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Equivalent top sorted Fst. Modification also happens in-place.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/top_sort.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">top_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This operation topologically sorts its input. When sorted, all transitions are from lower to higher state IDs.</span>

<span class="sd">    Examples :</span>

<span class="sd">    - Input</span>

<span class="sd">    ![topsort_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true)</span>

<span class="sd">    - Output</span>

<span class="sd">    ![topsort_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true)</span>

<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to top_sort.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Equivalent top sorted Fst. Modification also happens in-place.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">top_sorted_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_top_sort</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">top_sorted_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during top_sort&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">top_sorted_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.optimize" class="doc doc-heading">
          <code>optimize</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.optimize-classes">Classes</h5>
<h5 id="rustfst.algorithms.optimize-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.optimize.optimize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">optimize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Optimize an fst.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to optimize.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/optimize.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">optimize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Optimize an fst.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to optimize.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_optimize</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during optimize&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.optimize.optimize_in_log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">optimize_in_log</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Optimize an fst in the log semiring.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to optimize.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/optimize.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">optimize_in_log</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Optimize an fst in the log semiring.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to optimize.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_optimize_in_log</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during optimize_in_log&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.tr_unique" class="doc doc-heading">
          <code>tr_unique</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.tr_unique-classes">Classes</h5>
<h5 id="rustfst.algorithms.tr_unique-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.tr_unique.tr_unique" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tr_unique</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Keep a single instance of trs leaving the same state, going to the same state and
with the same input labels, output labels and weight.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to modify</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/tr_unique.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">tr_unique</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Keep a single instance of trs leaving the same state, going to the same state and</span>
<span class="sd">    with the same input labels, output labels and weight.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to modify</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_tr_unique</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during tr_unique&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.replace" class="doc doc-heading">
          <code>replace</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.replace-classes">Classes</h5>
<h5 id="rustfst.algorithms.replace-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.replace.replace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">replace</span><span class="p">(</span><span class="n">root_idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fst_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">VectorFst</span><span class="p">],</span> <span class="n">epsilon_on_replace</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Recursively replaces trs in the root FSTs with other FSTs.</p>
<p>Replace supports replacement of trs in one Fst with another FST. This
replacement is recursive. Replace takes an array of FST(s). One FST
represents the root (or topology) machine. The root FST refers to other FSTs
by recursively replacing trs labeled as non-terminals with the matching
non-terminal FST. Currently Replace uses the output symbols of the trs to
determine whether the transition is a non-terminal transition or not. A non-terminal can be
any label that is not a non-zero terminal label in the output alphabet.</p>
<p>Note that input argument is a vector of pairs. These correspond to the tuple
of non-terminal Label and corresponding FST.</p>

<p><strong>Examples:</strong></p>
    
      <ul>
<li>Root Fst :</li>
</ul>
<p><img alt="replace_in_1" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_1.svg?sanitize=true" /></p>
<ul>
<li>Fst for non-terminal #NAME :</li>
</ul>
<p><img alt="replace_in_2" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_2.svg?sanitize=true" /></p>
<ul>
<li>Fst for non-terminal #FIRSTNAME :</li>
</ul>
<p><img alt="replace_in_3" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_3.svg?sanitize=true" /></p>
<ul>
<li>Fst for non-terminal #LASTNAME :</li>
</ul>
<p><img alt="replace_in_4" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_4.svg?sanitize=true" /></p>
<ul>
<li>Output :</li>
</ul>
<p><img alt="replace_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_out.svg?sanitize=true" /></p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>root_idx</code></td>
          <td>
                <code>int</code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>fst_list</code></td>
          <td>
                <code><span title="typing.List">List</span>[int, <a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a>]</code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>epsilon_on_replace</code></td>
          <td>
                <code>bool</code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/replace.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">replace</span><span class="p">(</span>
    <span class="n">root_idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fst_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[(</span><span class="nb">int</span><span class="p">,</span> <span class="n">VectorFst</span><span class="p">)],</span> <span class="n">epsilon_on_replace</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recursively replaces trs in the root FSTs with other FSTs.</span>

<span class="sd">    Replace supports replacement of trs in one Fst with another FST. This</span>
<span class="sd">    replacement is recursive. Replace takes an array of FST(s). One FST</span>
<span class="sd">    represents the root (or topology) machine. The root FST refers to other FSTs</span>
<span class="sd">    by recursively replacing trs labeled as non-terminals with the matching</span>
<span class="sd">    non-terminal FST. Currently Replace uses the output symbols of the trs to</span>
<span class="sd">    determine whether the transition is a non-terminal transition or not. A non-terminal can be</span>
<span class="sd">    any label that is not a non-zero terminal label in the output alphabet.</span>

<span class="sd">    Note that input argument is a vector of pairs. These correspond to the tuple</span>
<span class="sd">    of non-terminal Label and corresponding FST.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - Root Fst :</span>

<span class="sd">    ![replace_in_1](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_1.svg?sanitize=true)</span>

<span class="sd">    - Fst for non-terminal #NAME :</span>

<span class="sd">    ![replace_in_2](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_2.svg?sanitize=true)</span>

<span class="sd">    - Fst for non-terminal #FIRSTNAME :</span>

<span class="sd">    ![replace_in_3](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_3.svg?sanitize=true)</span>

<span class="sd">    - Fst for non-terminal #LASTNAME :</span>

<span class="sd">    ![replace_in_4](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_4.svg?sanitize=true)</span>

<span class="sd">    - Output :</span>

<span class="sd">    ![replace_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_out.svg?sanitize=true)</span>

<span class="sd">    Args:</span>
<span class="sd">        root_idx:</span>
<span class="sd">        fst_list:</span>
<span class="sd">        epsilon_on_replace:</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">[</span><span class="n">LabelFstPair</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">fst</span><span class="p">)</span> <span class="ow">in</span> <span class="n">fst_list</span><span class="p">]</span>
    <span class="n">pairs_array</span> <span class="o">=</span> <span class="p">(</span><span class="n">LabelFstPair</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">pairs</span><span class="p">))(</span><span class="o">*</span><span class="n">pairs</span><span class="p">)</span>
    <span class="n">res_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_replace</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">root_idx</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">pairs_array</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pairs</span><span class="p">)),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">epsilon_on_replace</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">res_fst</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error performing replace&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">res_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.union" class="doc doc-heading">
          <code>union</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.union-classes">Classes</h5>
<h5 id="rustfst.algorithms.union-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.union.union" class="doc doc-heading">
<code class="highlight language-python"><span class="n">union</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Performs the union of two wFSTs. If A transduces string <code>x</code> to <code>y</code> with weight <code>a</code>
and <code>B</code> transduces string <code>w</code> to <code>v</code> with weight <code>b</code>, then their union transduces <code>x</code> to <code>y</code>
with weight <code>a</code> and <code>w</code> to <code>v</code> with weight <code>b</code>.</p>

<p><strong>Examples:</strong></p>
    
      <ul>
<li>Input Fst 1:</li>
</ul>
<p><img alt="union_in_1" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_1.svg?sanitize=true" /></p>
<ul>
<li>Input Fst 2:</li>
</ul>
<p><img alt="union_in_2" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_2.svg?sanitize=true" /></p>
<ul>
<li>Union:</li>
</ul>
<p><img alt="union_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_out.svg?sanitize=true" /></p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/union.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the union of two wFSTs. If A transduces string `x` to `y` with weight `a`</span>
<span class="sd">    and `B` transduces string `w` to `v` with weight `b`, then their union transduces `x` to `y`</span>
<span class="sd">    with weight `a` and `w` to `v` with weight `b`.</span>

<span class="sd">    Examples:</span>
<span class="sd">    - Input Fst 1:</span>

<span class="sd">    ![union_in_1](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_1.svg?sanitize=true)</span>

<span class="sd">    - Input Fst 2:</span>

<span class="sd">    ![union_in_2](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_2.svg?sanitize=true)</span>

<span class="sd">    - Union:</span>

<span class="sd">    ![union_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_out.svg?sanitize=true)</span>

<span class="sd">    Args:</span>
<span class="sd">        fst:</span>
<span class="sd">        other_fst:</span>
<span class="sd">    Returns:</span>
<span class="sd">         The resulting Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_union</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during union&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.union.union_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">union_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Computes the union of a list of Fsts.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fsts</code></td>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a>]</code>
          </td>
          <td><p>The list of Fsts to produce the union.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/union.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">union_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the union of a list of Fsts.</span>

<span class="sd">    Args:</span>
<span class="sd">        fsts: The list of Fsts to produce the union.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fsts</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fsts must be at least of len 1&quot;</span><span class="p">)</span>
    <span class="n">fsts</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">]</span>
    <span class="n">res_fst</span> <span class="o">=</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">res_fst</span> <span class="o">=</span> <span class="n">union</span><span class="p">(</span><span class="n">res_fst</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res_fst</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.tr_sort" class="doc doc-heading">
          <code>tr_sort</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.tr_sort-classes">Classes</h5>
<h5 id="rustfst.algorithms.tr_sort-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.tr_sort.tr_sort" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tr_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">ilabel_cmp</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>tr_sort(fst)
sort fst trs according to their ilabel or olabel
:param fst: Fst
:param ilabel_cmp: bool</p>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/tr_sort.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">tr_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">ilabel_cmp</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    tr_sort(fst)</span>
<span class="sd">    sort fst trs according to their ilabel or olabel</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :param ilabel_cmp: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_tr_sort</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">ilabel_cmp</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during tr_sort&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.reverse" class="doc doc-heading">
          <code>reverse</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.reverse-classes">Classes</h5>
<h5 id="rustfst.algorithms.reverse-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.reverse.reverse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reverse</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>reverse(fst)
reverse an fst
:param fst: Fst
:return: Fst</p>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/reverse.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    reverse(fst)</span>
<span class="sd">    reverse an fst</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">reversed_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_reverse</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">reversed_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during reverse&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">reversed_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.connect" class="doc doc-heading">
          <code>connect</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.connect-classes">Classes</h5>
<h5 id="rustfst.algorithms.connect-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.connect.connect" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>This operation trims an Fst, removing states and trs that are not on successful paths.</p>
<p>Examples :</p>
<ul>
<li>Input :</li>
</ul>
<p><img alt="connect_in" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true" /></p>
<ul>
<li>Output :</li>
</ul>
<p><img alt="connect_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true" /></p>

<details class="returns-">
  <summary>Returns</summary>
  <p>self</p>
</details>
      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/connect.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This operation trims an Fst, removing states and trs that are not on successful paths.</span>

<span class="sd">    Examples :</span>

<span class="sd">    - Input :</span>

<span class="sd">    ![connect_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true)</span>

<span class="sd">    - Output :</span>

<span class="sd">    ![connect_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true)</span>

<span class="sd">    Returns :</span>
<span class="sd">        self</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">connectd_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_connect</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">connectd_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during connect&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">connectd_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.compose" class="doc doc-heading">
          <code>compose</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.compose-classes">Classes</h5>
<h5 id="rustfst.algorithms.compose-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.compose.compose" class="doc doc-heading">
<code class="highlight language-python"><span class="n">compose</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Compute the composition of two FSTs.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Left fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Right fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Resulting fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/compose.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compose</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the composition of two FSTs.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Left fst.</span>
<span class="sd">        other_fst: Right fst.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Resulting fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">composition</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_compose</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">composition</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error Composing FSTs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">composition</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.compose.compose_with_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">compose_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ComposeConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Compute the composition of two FSTs parametrized with a config.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Left fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Right fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><span title="rustfst.algorithms.compose.ComposeConfig">ComposeConfig</span></code>
          </td>
          <td><p>Config parameters of the composition.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Resulting fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/compose.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compose_with_config</span><span class="p">(</span>
    <span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ComposeConfig</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the composition of two FSTs parametrized with a config.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Left fst.</span>
<span class="sd">        other_fst: Right fst.</span>
<span class="sd">        config: Config parameters of the composition.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Resulting fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">composition</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_compose_with_config</span><span class="p">(</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">composition</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error Composing FSTs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">composition</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.concat" class="doc doc-heading">
          <code>concat</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.concat-classes">Classes</h5>
<h5 id="rustfst.algorithms.concat-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.concat.concat" class="doc doc-heading">
<code class="highlight language-python"><span class="n">concat</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Compute the concatenation of two Fsts.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Left fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Right fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Resulting fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/concat.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">concat</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the concatenation of two Fsts.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Left fst.</span>
<span class="sd">        other_fst: Right fst.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Resulting fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_concat</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during concat&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.concat.concat_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">concat_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Compute the concatenation of a list of Fsts.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fsts</code></td>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a>]</code>
          </td>
          <td><p>List of Fsts to concatenated</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting concatenated Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/concat.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">concat_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the concatenation of a list of Fsts.</span>
<span class="sd">    Args:</span>
<span class="sd">        fsts: List of Fsts to concatenated</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting concatenated Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fsts</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fsts must be at least of len 1&quot;</span><span class="p">)</span>
    <span class="n">fsts</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">]</span>
    <span class="n">concatenated</span> <span class="o">=</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">concatenated</span> <span class="o">=</span> <span class="n">concatenated</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">concatenated</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.project" class="doc doc-heading">
          <code>project</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.project-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="rustfst.algorithms.project.ProjectType" class="doc doc-heading">
        <code>ProjectType</code>


</h6>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>Different types of labels projection in a Fst.</p>


        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/project.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ProjectType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Different types of labels projection in a Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">PROJECT_INPUT</span> <span class="o">=</span> <span class="mi">0</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input projection : output labels are replaced with input ones.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">PROJECT_OUTPUT</span> <span class="o">=</span> <span class="mi">1</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Output projection : input labels are replaced with output ones.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">





<h7 id="rustfst.algorithms.project.ProjectType-attributes">Attributes</h7>

<div class="doc doc-object doc-attribute">



<h8 id="rustfst.algorithms.project.ProjectType.PROJECT_INPUT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PROJECT_INPUT</span> <span class="o">=</span> <span class="mi">0</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h8>


  <div class="doc doc-contents ">
  
      <p>Input projection : output labels are replaced with input ones.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h8 id="rustfst.algorithms.project.ProjectType.PROJECT_OUTPUT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PROJECT_OUTPUT</span> <span class="o">=</span> <span class="mi">1</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h8>


  <div class="doc doc-contents ">
  
      <p>Output projection : input labels are replaced with output ones.</p>
  </div>

</div>





  </div>

  </div>

</div>
<h5 id="rustfst.algorithms.project-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.project.project" class="doc doc-heading">
<code class="highlight language-python"><span class="n">project</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">proj_type</span><span class="p">:</span> <span class="n">ProjectType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Convert a Fst to an acceptor using input or output labels.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst on which to apply the algorithm.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>proj_type</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.algorithms.project.ProjectType" href="project/#rustfst.algorithms.project.ProjectType">ProjectType</a></code>
          </td>
          <td><p>Whether to replace input labels or output labels.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/project.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">project</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">proj_type</span><span class="p">:</span> <span class="n">ProjectType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a Fst to an acceptor using input or output labels.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst on which to apply the algorithm.</span>
<span class="sd">        proj_type: Whether to replace input labels or output labels.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_project_type_new</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">proj_type</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">config</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating ProjectType&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_project</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during projection&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="rustfst.algorithms.randgen" class="doc doc-heading">
          <code>randgen</code>


</h4>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">






<h5 id="rustfst.algorithms.randgen-classes">Classes</h5>
<h5 id="rustfst.algorithms.randgen-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="rustfst.algorithms.randgen.randgen" class="doc doc-heading">
<code class="highlight language-python"><span class="n">randgen</span><span class="p">(</span><span class="n">ifst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">,</span> <span class="n">npath</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">select</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="n">max_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2147483647</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">remove_total_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

</h6>


  <div class="doc doc-contents ">
  
      <p>Randomly generate successful paths in an FST.
This operation randomly generates a set of successful paths in the input FST.
This relies on a mechanism for selecting arcs, specified using the <code>select</code>
argument. The default selector, "uniform", randomly selects a transition
using a uniform distribution. The "log_prob" selector randomly selects a
transition w.r.t. the weights treated as negative log probabilities after
normalizing for the total weight leaving the state. In all cases, finality is
treated as a transition to a super-final state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ifst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.Fst" href="../fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>The input FST.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>npath</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The number of random paths to generate.</p></td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>seed</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>An optional seed value for random path generation; if zero, the
current time and process ID is used.</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>select</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>A string matching a known random arc selection type; one of:
"uniform", "log_prob", "fast_log_prob".</p></td>
          <td>
                <code>&#39;uniform&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>max_length</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The maximum length of each random path.</p></td>
          <td>
                <code>2147483647</code>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the output be weighted by path count?</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>remove_total_weight</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the total weight be removed (ignored when
<code>weighted</code> is False)?</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="../fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST containing one or more random paths.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>when something wrong happened.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>rustfst/algorithms/randgen.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">randgen</span><span class="p">(</span>
    <span class="n">ifst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">,</span>
    <span class="n">npath</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">select</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;uniform&quot;</span><span class="p">,</span>
    <span class="n">max_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2147483647</span><span class="p">,</span>
    <span class="n">weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">remove_total_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Randomly generate successful paths in an FST.</span>
<span class="sd">    This operation randomly generates a set of successful paths in the input FST.</span>
<span class="sd">    This relies on a mechanism for selecting arcs, specified using the `select`</span>
<span class="sd">    argument. The default selector, &quot;uniform&quot;, randomly selects a transition</span>
<span class="sd">    using a uniform distribution. The &quot;log_prob&quot; selector randomly selects a</span>
<span class="sd">    transition w.r.t. the weights treated as negative log probabilities after</span>
<span class="sd">    normalizing for the total weight leaving the state. In all cases, finality is</span>
<span class="sd">    treated as a transition to a super-final state.</span>

<span class="sd">    Args:</span>
<span class="sd">        ifst: The input FST.</span>
<span class="sd">        npath: The number of random paths to generate.</span>
<span class="sd">        seed: An optional seed value for random path generation; if zero, the</span>
<span class="sd">            current time and process ID is used.</span>
<span class="sd">        select: A string matching a known random arc selection type; one of:</span>
<span class="sd">            &quot;uniform&quot;, &quot;log_prob&quot;, &quot;fast_log_prob&quot;.</span>
<span class="sd">        max_length: The maximum length of each random path.</span>
<span class="sd">        weight: Should the output be weighted by path count?</span>
<span class="sd">        remove_total_weight: Should the total weight be removed (ignored when</span>
<span class="sd">            `weighted` is False)?</span>

<span class="sd">    Returns:</span>
<span class="sd">        An FST containing one or more random paths.</span>

<span class="sd">    Raises:</span>
<span class="sd">      ValueError: when something wrong happened.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">select</span> <span class="o">!=</span> <span class="s2">&quot;uniform&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Only the uniform distribution is supported for now. Found </span><span class="si">{</span><span class="n">select</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">npath</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">npath</span><span class="p">)</span>
    <span class="n">seed</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">max_length</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">max_length</span><span class="p">)</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">weight</span><span class="p">)</span>
    <span class="n">remove_total_weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">remove_total_weight</span><span class="p">)</span>
    <span class="n">randgen_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_randgen</span><span class="p">(</span>
        <span class="n">ifst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">npath</span><span class="p">,</span>
        <span class="n">seed</span><span class="p">,</span>
        <span class="n">max_length</span><span class="p">,</span>
        <span class="n">weight</span><span class="p">,</span>
        <span class="n">remove_total_weight</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">randgen_fst</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during randgen&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">randgen_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>


  </div>

  </div>

</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../trs/" class="md-footer__link md-footer__link--prev" aria-label="Previous: trs" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              trs
            </div>
          </div>
        </a>
      
      
        
        <a href="shortest_path/" class="md-footer__link md-footer__link--next" aria-label="Next: shortest_path" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              shortest_path
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c2e1ee47.min.js"></script>
      
    
  </body>
</html>